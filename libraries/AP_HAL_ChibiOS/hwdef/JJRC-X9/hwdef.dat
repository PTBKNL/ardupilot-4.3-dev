# hw definition file for processing by chibios_pins.py
# JJRC X9

# MCU class and specific type
MCU STM32F4xx STM32F405xx

# board ID for firmware load
APJ_BOARD_ID 11

# crystal frequency
OSCILLATOR_HZ 24000000
#STM32_PLLM_VALUE 8

define STM32_ST_USE_TIMER 5
define CH_CFG_ST_RESOLUTION 32

FLASH_SIZE_KB 1024

define HAL_USE_EMPTY_STORAGE 1
define HAL_STORAGE_SIZE 16384

# board voltage
STM32_VDD 330U

UART_ORDER OTG1

PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1

PA13 JTMS-SWDIO SWD
PA14 JTCK-SWCLK SWD

define ALLOW_ARM_NO_COMPASS

PA2 BATT_VOLTAGE_SENS ADC1 SCALE(1)

PA0 UART4_TX UART4

PB13 SPI2_SCK SPI2
PB14 SPI2_MISO SPI2
PB15 SPI2_MOSI SPI2

PC4 BARO_CS CS
PC5 IMU_CS CS

SPIDEV icm20689 SPI2 DEVID1 IMU_CS MODE3 1*MHZ 8*MHZ
SPIDEV dps280   SPI2 DEVID1 BARO_CS MODE3 1*MHZ 8*MHZ

BARO DPS280 SPI:dps280
IMU Invensense SPI:icm20689 ROTATION_NONE
